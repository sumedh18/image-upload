<!--script>
  // Initialize Firebase
function upload(){
  console.log("Hello");
  var config = {
    apiKey: "AIzaSyAlY1JvY3dQtHORR2zfRRFmbcq5GHt8XOs",
    authDomain: "chatapp-35578.firebaseapp.com",
    databaseURL: "https://chatapp-35578.firebaseio.com",
    projectId: "chatapp-35578",
    storageBucket: "chatapp-35578.appspot.com",
    messagingSenderId: "73207957480"
  };
   firebase.initializeApp(config);

     console.log("Initialized");

  console.log("idhar aya");
  const storageService = firebase.storage();
  const storageRef = storageService.ref();

document.querySelector(".file-select").addEventListener('change', handleFileUploadChange);

document.querySelector(".file-submit").addEventListener('click', handleFileUploadSubmit);
console.log(" ab idhar aya");

var selectedFile;

function handleFileUploadChange(e) {
  selectedFile = e.target.files[0];
};
function handleFileUploadSubmit(e) {

  const uploadTask = storageRef.child(`images/${selectedFile.name}`).put(selectedFile); //create a child directory called images, and place the file inside this directory
console.log("abhi idhar aya");
  uploadTask.on('state_changed', (snapshot) => {
  // Observe state change events such as progress, pause, and resume
  }, (error) => {
    // Handle unsuccessful uploads
    console.log(error);
  }, () => {
     // Do something once upload is complete
     console.log('success');
  });
};
};
</script-->
<div class="page-wrapper">

  <div class="page-header">
    <h1><a ui-sref="home"><img class="logo-img" src="images/logo.png" /></a> Register</h1>
  </div>
  <div ng-show="authCtrl.error">
    <span>{{ authCtrl.errormessage }}</span>
  </div>
  <form ng-submit="authCtrl.register()" style="padding-left:15%;">
    
    <div class="input-group">
      
     <input type="text" class="form-control" placeholder="ID" ng-model="authCtrl.user.uid">
    </div><br>
    <div class="input-group">
      
     <input type="text" class="form-control" placeholder="Firstname" ng-model="authCtrl.user.fname">
    </div><br>
     <div class="input-group">
  <input type="text" class="form-control" placeholder="Lastname" ng-model="authCtrl.user.lname">
    </div><br>
     
    <div class="input-group">

    <input type="email" class="form-control" placeholder="example@something.com" ng-model="authCtrl.user.email">
  </div>
<br>
    <div class="input-group">
      <input type="password" class="form-control" placeholder="Password" ng-model="authCtrl.user.password">
    </div ><br>
    <div id="filesubmit">
  <input type="file" class="file-select" accept="image/*" ng-model="authCtrl.user.image"/>
  <button class="file-submit" ng-click="authCtrl.upload()">SUBMIT</button>
</div>
  
 

     
    <input type="submit" class="btn btn-default" value="Register" >
  </form>

</div>
<script src="https://www.gstatic.com/firebasejs/5.0.4/firebase.js"></script>



